# Система управления платежами и пользователями

WPF-приложение для управления пользователями, категориями и платежами с системой авторизации и визуализацией данных.

## Описание проекта

Проект представляет собой десктопное приложение для учета финансовых операций с разграничением прав доступа между администраторами и обычными пользователями.

## Основные возможности

### Система безопасности
- Регистрация новых пользователей
- Авторизация с проверкой ролей
- Смена пароля с валидацией
- Защита от brute-force атак (капча после 3 неудачных попыток)
- Хеширование паролей (SHA1)

### Управление пользователями
- Просмотр списка пользователей с фильтрацией и сортировкой
- Добавление/редактирование/удаление пользователей
- Разграничение ролей (Admin/User)
- Загрузка фотографий профилей

### Управление платежами
- Ведение учета финансовых операций
- Привязка платежей к категориям и пользователям
- CRUD-операции с платежами

### Категории расходов
- Создание и управление категориями платежей
- Группировка расходов по категориям

### Визуализация данных
- Диаграммы расходов по категориям
- Различные типы графиков (столбчатые, круговые и др.)
- Экспорт данных в Excel и Word/PDF

## Интерфейс

### Темы оформления
- **Стандартная тема** - спокойные пастельные тона
- **Кастомная тема** - яркие контрастные цвета
- Возможность переключения тем в runtime

### Стилизованные элементы
- Кнопки с hover-эффектами
- Текстовые поля с плейсхолдерами
- DataGrid с кастомным оформлением
- GroupBox с закругленными углами
- Адаптивная верстка

## Архитектура проекта

### Основные страницы
- **AuthPage** - страница авторизации
- **RegPage** - регистрация новых пользователей
- **AdminPage** - панель администратора
- **UserPage** - страница пользователя
- **DiagrammPage** - визуализация данных
- Табличные страницы (UsersTabPage, CategoryTabPage, PaymentTabPage)
- Страницы добавления/редактирования (AddUserPage, AddCategoryPage, AddPaymentPage)

### Технологии
- **WPF** - для пользовательского интерфейса
- **Entity Framework** - для работы с базой данных
- **Windows Forms Integration** - для диаграмм (System.Windows.Forms.DataVisualization)
- **Office Interop** - для экспорта в Excel/Word

## Функциональность по ролям

### Обычный пользователь
- Просмотр списка пользователей
- Фильтрация и сортировка данных
- Просмотр своей статистики расходов

### Администратор
- Полный доступ ко всем данным
- Управление пользователями
- Управление категориями платежей
- Управление платежами
- Просмотр диаграмм и экспорт отчетов

## Визуализация и отчетность

### Диаграммы
- Отображение расходов по категориям
- Различные типы графиков
- Фильтрация по пользователям

### Экспорт данных
- **Excel** - детализированные таблицы с группировкой по категориям
- **Word/PDF** - структурированные отчеты с форматированием
- Автоматическое создание итоговых сумм

## Установка и запуск

### Требования
- .NET Framework 4.7.2 или выше
- Microsoft Office (для экспорта в Excel/Word)
- SQL Server LocalDB или Express

### Запуск проекта
1. Клонировать репозиторий
2. Восстановить зависимости NuGet
3. Настроить строку подключения к базе данных
4. Запустить приложение

## Безопасность

- Хеширование паролей
- Валидация вводимых данных
- Защита от SQL-инъекций
- Ограничение попыток входа
- Проверка прав доступа

## Особенности реализации

- Навигация между страницами через Frame
- Динамическая смена тем оформления
- Валидация паролей (минимум 6 символов, цифры, латиница)
- Автоматическое обновление данных при изменении
- Поддержка изображений пользователей
- Отображение текущего времени в реальном времени
